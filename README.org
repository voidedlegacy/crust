* Crust
Crust is a tiny toy compiler written in Rust. It parses a small Python-like
syntax, type-checks it, and emits a simple bytecode format that runs on a
built-in VM.

** Language
- Statements:
  - =let name = expr=
  - =print expr, expr, ...=
  - if expr: ... else: ... end
  - while expr: ... end
  - Blocks end with end; a trailing ":" is optional
  - =let= can reassign an existing variable if the type matches
- Expressions:
  - integers, strings, booleans, identifiers
  - boolean literals: =true= and =false=
  - arithmetic operators: + - * /
  - comparison operators: == != < <= > >=
  - parentheses for grouping
  - string concatenation with +

** Quick Start
#+begin_src sh
cargo build
./target/debug/crustc examples/hello.crust --run
#+end_src

** Emit Options
#+begin_src sh
# Emit bytecode (default)
./target/debug/crustc examples/hello.crust -o hello.crb

# Emit tokens or AST to stdout
./target/debug/crustc examples/hello.crust --emit=tokens
./target/debug/crustc examples/hello.crust --emit=ast

# Emit tokens or AST to a file
./target/debug/crustc examples/hello.crust --emit=tokens -o hello.tokens
./target/debug/crustc examples/hello.crust --emit=ast -o hello.ast
#+end_src

** Bytecode
Bytecode files use the =.crb= extension and can be executed directly:

#+begin_src sh
./target/debug/crustc hello.crb --run
#+end_src

** Example
#+begin_src text
let x = 40 + 2
let name = "Crust"
print "hello", name, "answer:", x
#+end_src

#+begin_src text
let i = 0
while i < 3:
print i
let i = i + 1
end
#+end_src
